<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="net.lotte.chamomile.admin.user.domain.WithdrawnUserMapper">

  <!-- 탈퇴자 아이디와 탈퇴 날짜를 삽입하는 메서드 -->
  <insert id="insertWithdrawnUser" parameterType="map">
    INSERT INTO CHMM_WITHDRAWN_USERS (USER_ID, WITHDRAWAL_DATE)
    VALUES (#{userId}, #{withdrawalDate})
  </insert>

  <!-- 탈퇴자 아이디를 기반으로 탈퇴 날짜를 조회하는 메서드 -->
  <select id="selectWithdrawalDateByUserId" parameterType="string" resultType="java.time.LocalDateTime">
    SELECT WITHDRAWAL_DATE
    FROM CHMM_WITHDRAWN_USERS
    WHERE USER_ID = #{userId}
  </select>

  <!-- 탈퇴자 아이디를 기반으로 삭제하는 메서드 -->
  <delete id="deleteWithdrawnUserByUserId" parameterType="string">
    DELETE FROM CHMM_WITHDRAWN_USERS
    WHERE USER_ID = #{userId}
  </delete>

</mapper>
